<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Diagrama interactivo del ciclo de instrucci√≥n de CPU - Material educativo de arquitectura de computadores">
    <meta name="keywords" content="ciclo instrucci√≥n, CPU, arquitectura computadores, fetch, decode, execute">
    <meta name="author" content="Jos√© Ruiz - Arquitectura de Computadores">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîÑ</text></svg>" />
    <title>Diagrama Ciclo de Instrucci√≥n - Arquitectura de Computadores</title>
    <link rel="stylesheet" href="/src/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header profesional -->
    <header class="header">
        <nav class="nav-container">
            <div class="nav-brand">
                <span class="brand-icon">üîÑ</span>
                <span class="brand-text">Ciclo de Instrucci√≥n</span>
            </div>
            <div class="nav-links">
                <a href="#overview" class="nav-link">Resumen</a>
                <a href="#phases" class="nav-link">Fases</a>
                <a href="#instructions" class="nav-link">Instrucciones</a>
                <a href="#simulador" class="nav-link">Simulador</a>
                <a href="https://github.com/ruiz-jose/cicloinstruccion" class="nav-link github-link" target="_blank">
                    <span class="github-icon">‚ö°</span>
                    C√≥digo
                </a>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="overview" class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="badge-text">Arquitectura de Computadores</span>
            </div>
            <h1 class="hero-title">
                <span class="title-gradient">Ciclo de Instrucci√≥n</span>
                <span class="title-subtitle">de CPU</span>
            </h1>
            <p class="hero-description">
                Explora de manera interactiva las tres fases fundamentales del procesamiento de instrucciones: 
                <strong>Captaci√≥n</strong>, <strong>Decodificaci√≥n</strong> y <strong>Ejecuci√≥n</strong>
            </p>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-label">Fases</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">12+</span>
                    <span class="stat-label">Tipos de Instrucciones</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Interactivo</span>
                </div>
            </div>
        </div>
        <div class="hero-visual">
            <div class="floating-card">
                <div class="card-content">
                    <div class="mini-cpu">
                        <div class="cpu-core"></div>
                        <div class="cpu-cache"></div>
                        <div class="cpu-memory"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Phases Section -->
        <section id="phases" class="phases-section">
            <div class="section-header">
                <h2 class="section-title">Fases del Ciclo</h2>
                <p class="section-description">
                    Cada instrucci√≥n pasa por estas tres etapas fundamentales
                </p>
            </div>

            <div class="cycle-flow">
                <!-- CAPTACI√ìN -->
                <div class="phase-container" data-phase="fetch">
                    <div class="phase captacion">
                        <div class="phase-header">
                            <span class="phase-number">01</span>
                            <div class="phase-info">
                                <h3 class="phase-title">Captaci√≥n</h3>
                                <span class="phase-subtitle">FETCH</span>
                            </div>
                            <div class="phase-icon">üéØ</div>
                        </div>
                        <div class="phase-summary">
                            Obtener la instrucci√≥n desde la memoria principal
                        </div>
                    </div>
                    
                    <div class="phase-details">
                        <div class="details-header">
                            <h4>Pasos de Ejecuci√≥n</h4>
                        </div>
                        <div class="steps-grid">
                            <div class="step-item">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <strong>MAR ‚Üê IP</strong>
                                    <p>Cargar direcci√≥n de instrucci√≥n</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <strong>MBR ‚Üê read(Memoria[MAR])</strong>
                                    <p>Leer instrucci√≥n e incrementar IP</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <strong>IR ‚Üê MBR</strong>
                                    <p>Transferir a registro de instrucci√≥n</p>
                                </div>
                            </div>
                        </div>
                        <div class="phase-note">
                            <span class="note-icon">üí°</span>
                            La instrucci√≥n queda lista para ser analizada
                        </div>
                    </div>
                </div>
                
                <div class="flow-arrow">
                    <div class="arrow-line"></div>
                    <div class="arrow-head">‚ñº</div>
                </div>
                
                <!-- DECODIFICAR -->
                <div class="phase-container" data-phase="decode">
                    <div class="phase decodificar">
                        <div class="phase-header">
                            <span class="phase-number">02</span>
                            <div class="phase-info">
                                <h3 class="phase-title">Decodificaci√≥n</h3>
                                <span class="phase-subtitle">DECODE</span>
                            </div>
                            <div class="phase-icon">üîç</div>
                        </div>
                        <div class="phase-summary">
                            Analizar e interpretar la instrucci√≥n obtenida
                        </div>
                    </div>
                    
                    <div class="phase-details">
                        <div class="details-header">
                            <h4>Proceso de An√°lisis</h4>
                        </div>
                        <div class="decode-grid">
                            <div class="decode-item">
                                <div class="decode-icon">üéØ</div>
                                <h5>Tipo de Operaci√≥n</h5>
                                <p>Identificar si es MOV, ADD, JMP, etc.</p>
                            </div>
                            <div class="decode-item">
                                <div class="decode-icon">üìç</div>
                                <h5>Operandos</h5>
                                <p>Determinar registros o direcciones</p>
                            </div>
                            <div class="decode-item">
                                <div class="decode-icon">üîó</div>
                                <h5>Modo de Direccionamiento</h5>
                                <p>Directo, indirecto, inmediato</p>
                            </div>
                            <div class="decode-item">
                                <div class="decode-icon">‚ö°</div>
                                <h5>Se√±ales de Control</h5>
                                <p>Preparar rutas de datos</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flow-arrow">
                    <div class="arrow-line"></div>
                    <div class="arrow-head">‚ñº</div>
                </div>
                
                <!-- EJECUCI√ìN -->
                <div class="phase-container" data-phase="execute">
                    <div class="phase ejecucion">
                        <div class="phase-header">
                            <span class="phase-number">03</span>
                            <div class="phase-info">
                                <h3 class="phase-title">Ejecuci√≥n</h3>
                                <span class="phase-subtitle">EXECUTE</span>
                            </div>
                            <div class="phase-icon">‚ö°</div>
                        </div>
                        <div class="phase-summary">
                            Realizar la operaci√≥n especificada por la instrucci√≥n
                        </div>
                    </div>
                    
                    <div class="phase-details">
                        <div class="details-header">
                            <h4>Tipos de Ejecuci√≥n</h4>
                        </div>
                        <div class="execution-preview">
                            <div class="exec-type">
                                <span class="exec-icon">üìã</span>
                                <span>Transferencias</span>
                            </div>
                            <div class="exec-type">
                                <span class="exec-icon">üßÆ</span>
                                <span>Aritm√©tica</span>
                            </div>
                            <div class="exec-type">
                                <span class="exec-icon">üéÆ</span>
                                <span>Control</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- DETALLES DE EJECUCI√ìN -->
        <div class="execution-section">
            <h2 style="text-align: center; color: #22d3ee; margin-bottom: 30px; font-size: 2em;">
                ‚ö° TIPOS DE INSTRUCCIONES
            </h2>
            
            <div class="instruction-categories">
                <!-- TRANSFERENCIAS MOV -->
                <div class="category-card mov-category">
                    <div class="category-title">
                        üìã TRANSFERENCIAS: MOV
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Entre Registros</h4>
                        <div class="instruction-code">MOV Rx, Ry</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Rx ‚Üê Ry</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Directo a Registro</h4>
                        <div class="instruction-code">MOV Rx, [direcci√≥n]</div>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Registro a Memoria</h4>
                        <div class="instruction-code">MOV [direcci√≥n], Ry</div>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê Ry</li>
                            <li><strong>Paso 8:</strong> write(Memoria[MAR]) ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Inmediato</h4>
                        <div class="instruction-code">MOV Rx, [inmediato]</div>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> Rx ‚Üê MBR</li>
                        </ul>
                        <div class="note">Destino puede ser [M] o BL</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Indirecto</h4>
                        <div class="instruction-code">MOV Rx, [BL]</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> MAR ‚Üê BL</li>
                            <li><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 6:</strong> Rx ‚Üê MBR</li>
                        </ul>
                    </div>
                </div>
                
                <!-- ARITM√âTICA -->
                <div class="category-card arithmetic-category">
                    <div class="category-title">
                        üßÆ ARITM√âTICA: ADD y SUB
                    </div>
                    
                    <div class="note">CMP: es igual a SUB sin guardar resultado</div>
                    
                    <div class="instruction-type">
                        <h4>Entre Registros</h4>
                        <div class="instruction-code">ADD Rx, Ry</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Rx ‚Üê Rx opALU Ry ; update(Flags)</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Directo</h4>
                        <div class="instruction-code">ADD Rx, [direcci√≥n]</div>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê Rx opALU MBR ; update(Flags)</li>
                        </ul>
                        <div class="note">y viceversa</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Inmediato</h4>
                        <div class="instruction-code">ADD Rx, [inmediato]</div>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> Rx ‚Üê opALU MBR ; update(Flags)</li>
                        </ul>
                        <div class="note">Destino puede ser [M] o BL</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Indirecto</h4>
                        <div class="instruction-code">ADD Rx, [BL]</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> MAR ‚Üê BL</li>
                            <li><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 6:</strong> Rx ‚Üê Rx opALU MBR ; update(Flags)</li>
                        </ul>
                    </div>
                </div>
                
                <!-- CONTROL -->
                <div class="category-card control-category">
                    <div class="category-title">
                        üéÆ CONTROL
                    </div>
                    
                    <div class="instruction-type">
                        <h4>JMP - Salto Incondicional</h4>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> IP ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Saltos Condicionales</h4>
                        <div class="conditional-list">
                            <div class="conditional-item">
                                <strong>JZ:</strong> Si Z = 1 (es igual) ‚Üí IP ‚Üê MBR
                            </div>
                            <div class="conditional-item">
                                <strong>JC:</strong> Si C = 1 (es menor) ‚Üí IP ‚Üê MBR
                            </div>
                        </div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>HLT - Detener CPU</h4>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Detiene CPU</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>CALL - Llamada a Subrutina</h4>
                        <ul class="instruction-steps">
                            <div class="step-group secondary-fetch">
                                <div class="step-group-label">
                                    <span class="group-icon">üì•</span>
                                    <strong>Pasos 4-5:</strong> Obtener segundo byte de memoria
                                </div>
                                <li class="secondary-step"><strong>Paso 4:</strong> MAR ‚Üê IP</li>
                                <li class="secondary-step"><strong>Paso 5:</strong> MBR ‚Üê read(Memoria[MAR]); IP ‚Üê IP + 1</li>
                            </div>
                            <li><strong>Paso 6:</strong> SP ‚Üê SP ‚àí 1</li>
                            <li><strong>Paso 7:</strong> MAR ‚Üê SP</li>
                            <li><strong>Paso 8:</strong> MBR ‚Üê IP</li>
                            <li><strong>Paso 9:</strong> write(Memoria[MAR]) ‚Üê MBR</li>
                            <li><strong>Paso 10:</strong> IP ‚Üê segundo byte</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>RET - Retorno de Subrutina</h4>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> MAR ‚Üê SP</li>
                            <li><strong>Paso 5:</strong> SP ‚Üê SP + 1</li>
                            <li><strong>Paso 6:</strong> IR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 7:</strong> IP ‚Üê IR</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Instructions Section -->
        <section id="instructions" class="instructions-section">
            <div class="section-header">
                <h2 class="section-title">Tipos de Instrucciones</h2>
                <p class="section-description">
                    Detalle completo de cada categor√≠a de instrucciones y sus variantes
                </p>
            </div>
            
            <div class="instruction-categories">
                <!-- TRANSFERENCIAS MOV -->
                <div class="category-card mov-category">
                    <div class="category-header">
                        <div class="category-icon">üìã</div>
                        <div class="category-info">
                            <h3 class="category-title">Transferencias</h3>
                            <span class="category-subtitle">MOV - Movimiento de Datos</span>
                        </div>
                        <div class="category-badge">5 tipos</div>
                    </div>
                    
                    <div class="instruction-types">
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Entre Registros</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">MOV Rx, Ry</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 4:</span>
                                    <span class="step-code">Rx ‚Üê Ry</span>
                                </div>
                            </div>
                            <div class="instruction-visual">
                                <div class="reg-box">Ry</div>
                                <div class="arrow-small">‚Üí</div>
                                <div class="reg-box">Rx</div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Directo a Registro</h4>
                                <div class="complexity-badge medium">Medio</div>
                            </div>
                            <div class="instruction-code">MOV Rx, [direcci√≥n]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">MAR ‚Üê MBR</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MBR ‚Üê read(Memoria[MAR])</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">Rx ‚Üê MBR</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Registro a Memoria</h4>
                                <div class="complexity-badge medium">Medio</div>
                            </div>
                            <div class="instruction-code">MOV [direcci√≥n], Ry</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">MAR ‚Üê MBR</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MBR ‚Üê Ry</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">write(Memoria[MAR]) ‚Üê MBR</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Inmediato</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">MOV Rx, [inmediato]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">Rx ‚Üê MBR</span>
                                </div>
                            </div>
                            <div class="instruction-note">
                                <span class="note-icon">üí°</span>
                                Destino puede ser MY o BL
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Indirecto</h4>
                                <div class="complexity-badge complex">Complejo</div>
                            </div>
                            <div class="instruction-code">MOV Rx, [Ry]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">MAR ‚Üê BL</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MBR ‚Üê read(Memoria[MAR])</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">Rx ‚Üê MBR</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ARITM√âTICA -->
                <div class="category-card arithmetic-category">
                    <div class="category-header">
                        <div class="category-icon">üßÆ</div>
                        <div class="category-info">
                            <h3 class="category-title">Aritm√©tica</h3>
                            <span class="category-subtitle">ADD, SUB, CMP - Operaciones ALU</span>
                        </div>
                        <div class="category-badge">4 tipos</div>
                    </div>
                    
                    <div class="alu-info">
                        <div class="alu-note">
                            <span class="note-icon">‚ö†Ô∏è</span>
                            <strong>CMP:</strong> es igual a SUB sin guardar resultado
                        </div>
                    </div>
                    
                    <div class="instruction-types">
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Entre Registros</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">ADD Rx, Ry</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 4:</span>
                                    <span class="step-code">Rx ‚Üê opALU Ry ; update(Flags)</span>
                                </div>
                            </div>
                            <div class="flags-indicator">
                                <span>Actualiza: </span>
                                <span class="flag">Z</span>
                                <span class="flag">C</span>
                                <span class="flag">S</span>
                                <span class="flag">O</span>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Directo</h4>
                                <div class="complexity-badge medium">Medio</div>
                            </div>
                            <div class="instruction-code">ADD Rx, [direcci√≥n]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">MAR ‚Üê MBR</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MBR ‚Üê read(Memoria[MAR])</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">Rx ‚Üê opALU MBR ; update(Flags)</span>
                                </div>
                            </div>
                            <div class="instruction-note">
                                <span class="note-icon">üîÑ</span>
                                Tambi√©n funciona en sentido inverso
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Inmediato</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">ADD Rx, [inmediato]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">Rx ‚Üê opALU MBR ; update(Flags)</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Indirecto</h4>
                                <div class="complexity-badge complex">Complejo</div>
                            </div>
                            <div class="instruction-code">ADD Rx, [Ry]</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">MAR ‚Üê BL</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MBR ‚Üê read(Memoria[MAR])</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">Rx ‚Üê opALU MBR ; update(Flags)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- CONTROL -->
                <div class="category-card control-category">
                    <div class="category-header">
                        <div class="category-icon">üéÆ</div>
                        <div class="category-info">
                            <h3 class="category-title">Control</h3>
                            <span class="category-subtitle">JMP, CALL, RET - Flujo del programa</span>
                        </div>
                        <div class="category-badge">6 tipos</div>
                    </div>
                    
                    <div class="instruction-types">
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>JMP - Salto Incondicional</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">JMP direcci√≥n</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">IP ‚Üê MBR</span>
                                </div>
                            </div>
                            <div class="jump-visual">
                                <div class="pc-flow">PC ‚Üí Nueva direcci√≥n</div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>Saltos Condicionales</h4>
                                <div class="complexity-badge medium">Medio</div>
                            </div>
                            <div class="conditional-jumps">
                                <div class="conditional-item">
                                    <div class="instruction-code">JZ direcci√≥n</div>
                                    <div class="condition">Si Z = 1 (es igual) ‚Üí IP ‚Üê MBR</div>
                                </div>
                                <div class="conditional-item">
                                    <div class="instruction-code">JC direcci√≥n</div>
                                    <div class="condition">Si C = 1 (es menor) ‚Üí IP ‚Üê MBR</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>HLT - Detener CPU</h4>
                                <div class="complexity-badge simple">Simple</div>
                            </div>
                            <div class="instruction-code">HLT</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 4:</span>
                                    <span class="step-code">Detiene CPU</span>
                                </div>
                            </div>
                            <div class="halt-indicator">
                                <span class="halt-icon">üõë</span>
                                <span>Fin de programa</span>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>CALL - Llamada a Subrutina</h4>
                                <div class="complexity-badge complex">Complejo</div>
                            </div>
                            <div class="instruction-code">CALL direcci√≥n</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Pasos 4-5:</span>
                                    <span class="step-code">Obtener segundo byte</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">SP ‚Üê SP ‚àí 1</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">MAR ‚Üê SP</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 8:</span>
                                    <span class="step-code">MBR ‚Üê IP</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 9:</span>
                                    <span class="step-code">write(Memoria[MAR]) ‚Üê MBR</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 10:</span>
                                    <span class="step-code">IP ‚Üê segundo byte</span>
                                </div>
                            </div>
                            <div class="stack-visual">
                                <div class="stack-item">Stack: Guardar IP actual</div>
                                <div class="stack-arrow">‚Üì</div>
                                <div class="stack-item">Saltar a subrutina</div>
                            </div>
                        </div>
                        
                        <div class="instruction-type">
                            <div class="instruction-header">
                                <h4>RET - Retorno de Subrutina</h4>
                                <div class="complexity-badge medium">Medio</div>
                            </div>
                            <div class="instruction-code">RET</div>
                            <div class="instruction-steps">
                                <div class="step-row">
                                    <span class="step-label">Paso 4:</span>
                                    <span class="step-code">MAR ‚Üê SP</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 5:</span>
                                    <span class="step-code">SP ‚Üê SP + 1</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 6:</span>
                                    <span class="step-code">IR ‚Üê read(Memoria[MAR])</span>
                                </div>
                                <div class="step-row">
                                    <span class="step-label">Paso 7:</span>
                                    <span class="step-code">IP ‚Üê IR</span>
                                </div>
                            </div>
                            <div class="stack-visual">
                                <div class="stack-item">Stack: Recuperar IP</div>
                                <div class="stack-arrow">‚Üë</div>
                                <div class="stack-item">Continuar ejecuci√≥n</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Simulador Interactivo -->
        <section class="simulator-section" id="simulador">
            <div class="container">
                <h2 class="section-title">
                    <span class="icon">üîß</span>
                    Simulador Interactivo
                </h2>
                <p class="section-subtitle">
                    Sigue paso a paso el ciclo de instrucci√≥n de la CPU
                </p>
                
                <div class="simulator-container">
                    <!-- Panel de controles -->
                    <div class="simulator-controls">
                        <div class="control-group">
                            <label class="control-label">Tipo de Instrucci√≥n</label>
                            <select class="instruction-select" id="instructionSelect">
                                <option value="mov-reg">MOV (Registro a Registro)</option>
                                <option value="mov-mem">MOV (Memoria a Registro)</option>
                                <option value="add">ADD (Suma)</option>
                                <option value="jmp">JMP (Salto Incondicional)</option>
                                <option value="cmp">CMP (Comparaci√≥n)</option>
                                <option value="call">CALL (Llamada a Subrutina)</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <div class="step-counter">
                                <div class="current-step" id="currentStep">1</div>
                                <div class="total-steps">de <span id="totalSteps">6</span></div>
                            </div>
                        </div>
                        
                        <div class="control-buttons">
                            <button class="sim-btn primary" id="playBtn">
                                ‚ñ∂Ô∏è Reproducir
                            </button>
                            <button class="sim-btn secondary" id="pauseBtn" disabled>
                                ‚è∏Ô∏è Pausar
                            </button>
                            <button class="sim-btn secondary" id="stepBtn">
                                ‚èØÔ∏è Paso a Paso
                            </button>
                            <button class="sim-btn secondary" id="resetBtn">
                                üîÑ Reiniciar
                            </button>
                        </div>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <!-- √Årea de visualizaci√≥n -->
                    <div class="simulator-visual">
                        <h3 style="margin-bottom: var(--space-6); color: var(--primary-300);">
                            Diagrama de CPU
                        </h3>
                        
                        <!-- Diagrama simplificado de CPU -->
                        <div class="cpu-diagram" id="cpuDiagram">
                            <div class="cpu-component" id="pc">
                                <div class="component-label">PC</div>
                                <div class="component-value" id="pcValue">0x1000</div>
                            </div>
                            <div class="cpu-component" id="memory">
                                <div class="component-label">Memoria</div>
                                <div class="component-value" id="memoryValue">---</div>
                            </div>
                            <div class="cpu-component" id="ir">
                                <div class="component-label">IR</div>
                                <div class="component-value" id="irValue">---</div>
                            </div>
                            <div class="cpu-component" id="decoder">
                                <div class="component-label">Decodificador</div>
                                <div class="component-value" id="decoderValue">---</div>
                            </div>
                            <div class="cpu-component" id="alu">
                                <div class="component-label">ALU</div>
                                <div class="component-value" id="aluValue">---</div>
                            </div>
                            <div class="cpu-component" id="regA">
                                <div class="component-label">Reg A</div>
                                <div class="component-value" id="regAValue">0x00</div>
                            </div>
                            <div class="cpu-component" id="regB">
                                <div class="component-label">Reg B</div>
                                <div class="component-value" id="regBValue">0x00</div>
                            </div>
                            <div class="cpu-component" id="control">
                                <div class="component-label">Control</div>
                                <div class="component-value" id="controlValue">IDLE</div>
                            </div>
                        </div>
                        
                        <!-- Panel de registros -->
                        <div class="registers-panel">
                            <div class="register" id="reg-ax">
                                <div class="register-name">AX</div>
                                <div class="register-value">0x0000</div>
                            </div>
                            <div class="register" id="reg-bx">
                                <div class="register-name">BX</div>
                                <div class="register-value">0x0000</div>
                            </div>
                            <div class="register" id="reg-cx">
                                <div class="register-name">CX</div>
                                <div class="register-value">0x0000</div>
                            </div>
                            <div class="register" id="reg-dx">
                                <div class="register-name">DX</div>
                                <div class="register-value">0x0000</div>
                            </div>
                            <div class="register" id="reg-sp">
                                <div class="register-name">SP</div>
                                <div class="register-value">0xFFFF</div>
                            </div>
                            <div class="register" id="reg-bp">
                                <div class="register-name">BP</div>
                                <div class="register-value">0x0000</div>
                            </div>
                        </div>
                        
                        <!-- Vista de memoria -->
                        <div class="memory-view">
                            <h4 style="color: var(--gray-300); margin-bottom: var(--space-3);">Memoria</h4>
                            <div class="memory-grid" id="memoryGrid">
                                <!-- Se llenar√° din√°micamente -->
                            </div>
                        </div>
                        
                        <!-- Informaci√≥n del paso actual -->
                        <div class="current-step-info">
                            <div class="step-title" id="stepTitle">B√∫squeda de Instrucci√≥n</div>
                            <div class="step-description" id="stepDescription">
                                El procesador lee la instrucci√≥n desde la direcci√≥n almacenada en el Contador de Programa (PC).
                            </div>
                            <div class="step-code" id="stepCode">
                                PC ‚Üí Direcci√≥n de Memoria ‚Üí Instrucci√≥n
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer profesional -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Proyecto Educativo</h4>
                <p>Material did√°ctico para arquitectura de computadores</p>
            </div>
            <div class="footer-section">
                <h4>Tecnolog√≠as</h4>
                <p>Vite ‚Ä¢ JavaScript ‚Ä¢ CSS3 ‚Ä¢ GitHub Pages</p>
            </div>
            <div class="footer-section">
                <h4>Autor</h4>
                <p>Jos√© Ruiz</p>
                <a href="https://github.com/ruiz-jose/cicloinstruccion" target="_blank" class="footer-link">
                    Ver c√≥digo fuente
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Diagrama Ciclo de Instrucci√≥n. Uso educativo.</p>
        </div>
    </footer>
    
    <script type="module" src="/src/main.js"></script>
</body>
</html>
