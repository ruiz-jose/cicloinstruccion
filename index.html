<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Diagrama interactivo del ciclo de instrucci√≥n de CPU - Material educativo de arquitectura de computadores">
    <meta name="keywords" content="ciclo instrucci√≥n, CPU, arquitectura computadores, fetch, decode, execute">
    <meta name="author" content="Proyecto Arquitectura de Computadores">
    <link rel="icon" type="image/svg+xml" href="/cpu-icon.svg" />
    <title>Diagrama Ciclo de Instrucci√≥n - Arquitectura de Computadores</title>
    <link rel="stylesheet" href="/src/style.css">
</head>
<body>
    <div class="container">
        <h1>üîÑ CICLO DE INSTRUCCI√ìN</h1>
        
        <div class="cycle-flow">
            <!-- CAPTACI√ìN -->
            <div class="phase-container">
                <div class="phase captacion">
                    <span class="phase-number">1</span>
                    üéØ CAPTACI√ìN (FETCH)
                </div>
                <div class="phase-details">
                    <div class="steps-grid">
                        <div class="step-item">
                            <strong>Paso 1:</strong> MAR ‚Üê IP
                        </div>
                        <div class="step-item">
                            <strong>Paso 2:</strong> MBR ‚Üê read(Memoria[MAR]) ; IP ‚Üê IP + 1
                        </div>
                        <div class="step-item">
                            <strong>Paso 3:</strong> IR ‚Üê MBR
                        </div>
                    </div>
                    <div class="note">
                        Obtener la instrucci√≥n de memoria y cargarla en el registro IR
                    </div>
                </div>
            </div>
            
            <div class="flow-arrow">‚¨á</div>
            
            <!-- DECODIFICAR -->
            <div class="phase-container">
                <div class="phase decodificar">
                    <span class="phase-number">2</span>
                    üîç DECODIFICAR
                </div>
                <div class="phase-details">
                    <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px;">
                        La unidad de control analiza la instrucci√≥n del IR
                    </p>
                    <div class="steps-grid">
                        <div class="step-item">Determinar tipo de operaci√≥n</div>
                        <div class="step-item">Identificar operandos</div>
                        <div class="step-item">Analizar modo de direccionamiento</div>
                        <div class="step-item">Generar se√±ales de control</div>
                    </div>
                </div>
            </div>
            
            <div class="flow-arrow">‚¨á</div>
            
            <!-- EJECUCI√ìN -->
            <div class="phase-container">
                <div class="phase ejecucion">
                    <span class="phase-number">3</span>
                    ‚ö° EJECUCI√ìN
                </div>
            </div>
        </div>
        
        <!-- DETALLES DE EJECUCI√ìN -->
        <div class="execution-section">
            <h2 style="text-align: center; color: #22d3ee; margin-bottom: 30px; font-size: 2em;">
                ‚ö° TIPOS DE INSTRUCCIONES
            </h2>
            
            <div class="instruction-categories">
                <!-- TRANSFERENCIAS MOV -->
                <div class="category-card mov-category">
                    <div class="category-title">
                        üìã TRANSFERENCIAS: MOV
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Entre Registros</h4>
                        <div class="instruction-code">MOV Rx, Ry</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Rx ‚Üê Ry</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Directo a Registro</h4>
                        <div class="instruction-code">MOV Rx, [direcci√≥n]</div>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Registro a Memoria</h4>
                        <div class="instruction-code">MOV [direcci√≥n], Ry</div>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê Ry</li>
                            <li><strong>Paso 8:</strong> write(Memoria[MAR]) ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Inmediato</h4>
                        <div class="instruction-code">MOV Rx, [inmediato]</div>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> Rx ‚Üê MBR</li>
                        </ul>
                        <div class="note">Destino puede ser MY o BL</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Indirecto</h4>
                        <div class="instruction-code">MOV Rx, [Ry]</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 6:</strong> MAR ‚Üê BL</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê MBR</li>
                        </ul>
                    </div>
                </div>
                
                <!-- ARITM√âTICA -->
                <div class="category-card arithmetic-category">
                    <div class="category-title">
                        üßÆ ARITM√âTICA: ADD y SUB
                    </div>
                    
                    <div class="note">CMP: es igual a SUB sin guardar resultado</div>
                    
                    <div class="instruction-type">
                        <h4>Entre Registros</h4>
                        <div class="instruction-code">ADD Rx, Ry</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Rx ‚Üê opALU Ry ; update(Flags)</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Directo</h4>
                        <div class="instruction-code">ADD Rx, [direcci√≥n]</div>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> MAR ‚Üê MBR</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê opALU MBR ; update(Flags)</li>
                        </ul>
                        <div class="note">y viceversa</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Inmediato</h4>
                        <div class="instruction-code">ADD Rx, [inmediato]</div>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> Rx ‚Üê opALU MBR ; update(Flags)</li>
                        </ul>
                        <div class="note">Destino puede ser MY o BL</div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Indirecto</h4>
                        <div class="instruction-code">ADD Rx, [Ry]</div>
                        <ul class="instruction-steps">
                            <li><strong>Paso 6:</strong> MAR ‚Üê BL</li>
                            <li><strong>Paso 7:</strong> MBR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 8:</strong> Rx ‚Üê opALU MBR ; update(Flags)</li>
                        </ul>
                    </div>
                </div>
                
                <!-- CONTROL -->
                <div class="category-card control-category">
                    <div class="category-title">
                        üéÆ CONTROL
                    </div>
                    
                    <div class="instruction-type">
                        <h4>JMP - Salto Incondicional</h4>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> IP ‚Üê MBR</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>Saltos Condicionales</h4>
                        <div class="conditional-list">
                            <div class="conditional-item">
                                <strong>JZ:</strong> Si Z = 1 (es igual) ‚Üí IP ‚Üê MBR
                            </div>
                            <div class="conditional-item">
                                <strong>JC:</strong> Si C = 1 (es menor) ‚Üí IP ‚Üê MBR
                            </div>
                        </div>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>HLT - Detener CPU</h4>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> Detiene CPU</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>CALL - Llamada a Subrutina</h4>
                        <ul class="instruction-steps">
                            <li><strong>Pasos 4-5:</strong> Obtener segundo byte de memoria</li>
                            <li><strong>Paso 6:</strong> SP ‚Üê SP ‚àí 1</li>
                            <li><strong>Paso 7:</strong> MAR ‚Üê SP</li>
                            <li><strong>Paso 8:</strong> MBR ‚Üê IP</li>
                            <li><strong>Paso 9:</strong> write(Memoria[MAR]) ‚Üê MBR</li>
                            <li><strong>Paso 10:</strong> IP ‚Üê segundo byte</li>
                        </ul>
                    </div>
                    
                    <div class="instruction-type">
                        <h4>RET - Retorno de Subrutina</h4>
                        <ul class="instruction-steps">
                            <li><strong>Paso 4:</strong> MAR ‚Üê SP</li>
                            <li><strong>Paso 5:</strong> SP ‚Üê SP + 1</li>
                            <li><strong>Paso 6:</strong> IR ‚Üê read(Memoria[MAR])</li>
                            <li><strong>Paso 7:</strong> IP ‚Üê IR</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="/src/main.js"></script>
</body>
</html>
